
# Habit Tracker with Telegram Reminders

## Описание проекта

Это курсовой проект7. DRF представляет собой приложение для отслеживания полезных и приятных привычек, с интеграцией для напоминаний через Telegram. Пользователи могут добавлять свои привычки, управлять ими и получать напоминания о выполнении привычек через Telegram. Также предусмотрена возможность публиковать публичные привычки, которые могут вдохновить других пользователей.

## Задачи проекта

- **Модели привычек:** Добавить необходимые модели для полезных и приятных привычек с поддержкой различных атрибутов, таких как время, место, вознаграждения и периодичность выполнения.
- **Эндпоинты для фронтенда:** Реализовать API для работы с фронтендом, включая регистрацию пользователей, создание, редактирование, удаление привычек, а также доступ к публичным привычкам.
- **Интеграция с Telegram:** Интегрировать сервис с Telegram для рассылки уведомлений о выполнении привычек.
- **Пагинация:** Реализовать пагинацию для вывода списка привычек с ограничением на 5 привычек на странице.
- **Отложенные задачи:** Реализовать отложенные задачи для напоминаний о привычках с использованием Celery и интеграцией с Telegram.

## Модели

### Привычка

Каждая привычка состоит из следующих атрибутов:
- **Пользователь:** Кто создал привычку.
- **Место:** Где необходимо выполнять привычку.
- **Время:** Когда необходимо выполнять привычку.
- **Действие:** Конкретное действие, которое является сутью привычки.
- **Признак приятной привычки:** Флаг, указывающий, что привычка является приятной.
- **Связанная привычка:** Для полезных привычек можно указать связанную приятную привычку, которая служит вознаграждением.
- **Периодичность:** Период, через который привычка повторяется (по умолчанию ежедневная).
- **Вознаграждение:** Чем пользователь вознаграждает себя за выполнение привычки.
- **Время на выполнение:** Время, которое требуется на выполнение привычки (не более 120 секунд).
- **Признак публичности:** Флаг, который указывает, что привычка доступна публично.

### Валидаторы

- Одновременно нельзя заполнять поля "Вознаграждение" и "Связанная привычка". Можно использовать только одно из этих полей.
- Время выполнения привычки не может превышать 120 секунд.
- Связанными привычками могут быть только привычки с признаком приятной привычки.
- Приятные привычки не могут иметь вознаграждения или связанные привычки.
- Привычка должна повторяться хотя бы раз в неделю, не реже одного раза в 7 дней.
- Привычка не может быть не выполнена более 7 дней.

## Эндпоинты

API включает следующие эндпоинты:

- **Регистрация:** Регистрация нового пользователя.
- **Авторизация:** Авторизация пользователя с использованием JWT токенов.
- **Список привычек текущего пользователя:** Получение списка привычек текущего пользователя с пагинацией (по 5 привычек на страницу).
- **Список публичных привычек:** Получение списка публичных привычек.
- **Создание привычки:** Создание новой привычки.
- **Редактирование привычки:** Редактирование существующей привычки.
- **Удаление привычки:** Удаление привычки.

## Интеграция с Telegram

Для работы с напоминаниями используется Telegram. Время выполнения каждой привычки будет передано в виде напоминаний через Telegram-бота.

1. Получите API токен для вашего Telegram-бота через [BotFather](https://core.telegram.org/bots#botfather).
2. Настройте свой проект для отправки уведомлений через Telegram.

## Установка и настройка

### 1. Клонировать репозиторий:
 
```bash
git clone https://github.com/AlexanderMalach/CW7-7.git
cd habit-tracker
```

### 2. Создать виртуальное окружение и активировать его:

Для Windows:

```sh
    python -m venv venv
    venv\Scripts\activate
   ```

Для Linux/Mac:

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установить зависимости:

```bash
pip install -r requirements.txt
```

### 4. Применить миграции:

```bash
python manage.py migrate
```

### 5. Создать суперпользователя для доступа к админке (опционально):

```bash
python manage.py csu
```

### 6. Запустить сервер разработки:

```bash
python manage.py runserver
```

Теперь вы можете перейти по адресу `http://127.0.0.1:8000/` и начать использовать приложение.

## Тестирование

Для запуска тестов используйте команду:

```bash
python manage.py test
```

## Пагинация

Каждый список привычек, включая публичные, будет отображаться с пагинацией, выводя не более 5 привычек на одну страницу.

## Лицензия

Этот проект лицензирован на условиях лицензии MIT. Подробности см. в файле LICENSE.

## Контрибьюции

Если вы хотите внести изменения в проект, пожалуйста, создайте форк репозитория, внесите изменения и отправьте Pull Request.

---

## Автор

[Aлександр Малахинский](https://github.com/AlexanderMalach)
